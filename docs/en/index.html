<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.5: http://docutils.sourceforge.net/" />
<title>Magento Extension Netresearch_Productvisibility</title>
<style type="text/css">

body {
    font-family:    Trebuchet MS,Helvetica,Tahoma,Arial,Verdana,sans-serif;
}

pre.literal-block {
    background:     none repeat scroll 0 0 #EEFFEE;
    border:         1px solid gray;
    font-family:    courier,monospace;
    font-size:      80%;
    margin-left:    1em;
    padding:        5px;
}

#inhalt, #contents {
    background:      none repeat scroll 0 0 #EFEFFF;
    border:          1px solid gray;
    margin:          0;
    padding:         10px;
    text-decoration: none;
}

h1 {
    background:      none repeat scroll 0 0 #EFEFFF;
    padding:         10px;
    text-align:      center;
}

h1.title {
    background:      none;
}

/*
:Author: David Goodger (goodger@python.org)
:Id: $Id: html4css1.css 5951 2009-05-18 18:03:10Z milde $
:Copyright: This stylesheet has been placed in the public domain.

Default cascading style sheet for the HTML output of Docutils.

See http://docutils.sf.net/docs/howto/html-stylesheets.html for how to
customize this style sheet.
*/

/* used to remove borders from tables and images */
.borderless, table.borderless td, table.borderless th {
  border: 0 }

table.borderless td, table.borderless th {
  /* Override padding for "table.docutils td" with "! important".
     The right padding separates the table cells. */
  padding: 0 0.5em 0 0 ! important }

.first {
  /* Override more specific margin styles with "! important". */
  margin-top: 0 ! important }

.last, .with-subtitle {
  margin-bottom: 0 ! important }

.hidden {
  display: none }

a.toc-backref {
  text-decoration: none ;
  color: black }

blockquote.epigraph {
  margin: 2em 5em ; }

dl.docutils dd {
  margin-bottom: 0.5em }

/* Uncomment (and remove this text!) to get bold-faced definition list terms
dl.docutils dt {
  font-weight: bold }
*/

div.abstract {
  margin: 2em 5em }

div.abstract p.topic-title {
  font-weight: bold ;
  text-align: center }

div.admonition, div.attention, div.caution, div.danger, div.error,
div.hint, div.important, div.note, div.tip, div.warning {
  margin: 2em ;
  border: medium outset ;
  padding: 1em }

div.admonition p.admonition-title, div.hint p.admonition-title,
div.important p.admonition-title, div.note p.admonition-title,
div.tip p.admonition-title {
  font-weight: bold ;
  font-family: sans-serif }

div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title {
  color: red ;
  font-weight: bold ;
  font-family: sans-serif }

/* Uncomment (and remove this text!) to get reduced vertical space in
   compound paragraphs.
div.compound .compound-first, div.compound .compound-middle {
  margin-bottom: 0.5em }

div.compound .compound-last, div.compound .compound-middle {
  margin-top: 0.5em }
*/

div.dedication {
  margin: 2em 5em ;
  text-align: center ;
  font-style: italic }

div.dedication p.topic-title {
  font-weight: bold ;
  font-style: normal }

div.figure {
  margin-left: 2em ;
  margin-right: 2em }

div.footer, div.header {
  clear: both;
  font-size: smaller }

div.line-block {
  display: block ;
  margin-top: 1em ;
  margin-bottom: 1em }

div.line-block div.line-block {
  margin-top: 0 ;
  margin-bottom: 0 ;
  margin-left: 1.5em }

div.sidebar {
  margin: 0 0 0.5em 1em ;
  border: medium outset ;
  padding: 1em ;
  background-color: #ffffee ;
  width: 40% ;
  float: right ;
  clear: right }

div.sidebar p.rubric {
  font-family: sans-serif ;
  font-size: medium }

div.system-messages {
  margin: 5em }

div.system-messages h1 {
  color: red }

div.system-message {
  border: medium outset ;
  padding: 1em }

div.system-message p.system-message-title {
  color: red ;
  font-weight: bold }

div.topic {
  margin: 2em }

h1.section-subtitle, h2.section-subtitle, h3.section-subtitle,
h4.section-subtitle, h5.section-subtitle, h6.section-subtitle {
  margin-top: 0.4em }

h1.title {
  text-align: center }

h2.subtitle {
  text-align: center }

hr.docutils {
  width: 75% }

img.align-left, .figure.align-left{
  clear: left ;
  float: left ;
  margin-right: 1em }

img.align-right, .figure.align-right {
  clear: right ;
  float: right ;
  margin-left: 1em }

.align-left {
  text-align: left }

.align-center {
  clear: both ;
  text-align: center }

.align-right {
  text-align: right }

/* reset inner alignment in figures */
div.align-right {
  text-align: left }

/* div.align-center * { */
/*   text-align: left } */

ol.simple, ul.simple {
  margin-bottom: 1em }

ol.arabic {
  list-style: decimal }

ol.loweralpha {
  list-style: lower-alpha }

ol.upperalpha {
  list-style: upper-alpha }

ol.lowerroman {
  list-style: lower-roman }

ol.upperroman {
  list-style: upper-roman }

p.attribution {
  text-align: right ;
  margin-left: 50% }

p.caption {
  font-style: italic }

p.credits {
  font-style: italic ;
  font-size: smaller }

p.label {
  white-space: nowrap }

p.rubric {
  font-weight: bold ;
  font-size: larger ;
  color: maroon ;
  text-align: center }

p.sidebar-title {
  font-family: sans-serif ;
  font-weight: bold ;
  font-size: larger }

p.sidebar-subtitle {
  font-family: sans-serif ;
  font-weight: bold }

p.topic-title {
  font-weight: bold }

pre.address {
  margin-bottom: 0 ;
  margin-top: 0 ;
  font: inherit }

pre.literal-block, pre.doctest-block {
  margin-left: 2em ;
  margin-right: 2em }

span.classifier {
  font-family: sans-serif ;
  font-style: oblique }

span.classifier-delimiter {
  font-family: sans-serif ;
  font-weight: bold }

span.interpreted {
  font-family: sans-serif }

span.option {
  white-space: nowrap }

span.pre {
  white-space: pre }

span.problematic {
  color: red }

span.section-subtitle {
  /* font-size relative to parent (h1..h6 element) */
  font-size: 80% }

table.citation {
  border-left: solid 1px gray;
  margin-left: 1px }

table.docinfo {
  margin: 2em 4em }

table.docutils {
  margin-top: 0.5em ;
  margin-bottom: 0.5em }

table.footnote {
  border-left: solid 1px black;
  margin-left: 1px }

table.docutils td, table.docutils th,
table.docinfo td, table.docinfo th {
  padding-left: 0.5em ;
  padding-right: 0.5em ;
  vertical-align: top }

table.docutils th.field-name, table.docinfo th.docinfo-name {
  font-weight: bold ;
  text-align: left ;
  white-space: nowrap ;
  padding-left: 0 }

h1 tt.docutils, h2 tt.docutils, h3 tt.docutils,
h4 tt.docutils, h5 tt.docutils, h6 tt.docutils {
  font-size: 100% }

ul.auto-toc {
  list-style-type: none }

</style>
</head>
<body>
<div class="document" id="magento-extension-netresearch-productvisibility">
<h1 class="title">Magento Extension Netresearch_Productvisibility</h1>

<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="auto-toc simple">
<li><a class="reference internal" href="#intention" id="id1">1&nbsp;&nbsp;&nbsp;Intention</a></li>
<li><a class="reference internal" href="#features" id="id2">2&nbsp;&nbsp;&nbsp;Features</a></li>
<li><a class="reference internal" href="#issues" id="id3">3&nbsp;&nbsp;&nbsp;Issues</a></li>
<li><a class="reference internal" href="#extensibility" id="id4">4&nbsp;&nbsp;&nbsp;Extensibility</a></li>
<li><a class="reference internal" href="#system-requirements" id="id5">5&nbsp;&nbsp;&nbsp;System Requirements</a></li>
<li><a class="reference internal" href="#contributor" id="id6">6&nbsp;&nbsp;&nbsp;Contributor</a></li>
</ul>
</div>
<div class="section" id="intention">
<h1><a class="toc-backref" href="#id1">1&nbsp;&nbsp;&nbsp;Intention</a></h1>
<p>It is a common case: You create a product in the backend of Magento and want it
to be shown in the shop. But in a little bit of hurry you miss to set a property
which prevents its visibility.</p>
<p>That's why this module exists. Its intention is to show you, which properties
could be responsible for hiding the product. It is ready to handle multiple
stores and so it gives you the chance to determine in which store the product
<a class="reference internal" href="#extensibility">should</a> be visible.</p>
<p>You'll find the output of this module as a new tab of the
product edit page in the backend of Magento.</p>
<p>Netresearch_Productvisibility has <a class="reference internal" href="#issues">not a finished state</a>, so much work has to
be done to improve it.</p>
</div>
<div class="section" id="features">
<h1><a class="toc-backref" href="#id2">2&nbsp;&nbsp;&nbsp;Features</a></h1>
<p>We provide a set of default checkpoints which include</p>
<ul class="simple">
<li>if product is enabled</li>
<li>if product is visible in catalog</li>
<li>if product has a website</li>
<li>if product has a category</li>
<li>if product is in stock</li>
<li>if product is up to date in price index</li>
<li>if product is up to date in stock index</li>
</ul>
<p>For configurable products a warning will be shown additionally, if its simple
products are visible individually.</p>
<p>If a checkpoint fails, there will be a howto which gives you a hint.
For some checkpoint there will also be a description where to find the product
in the shop (categories, websites).</p>
<p>These checkpoints are only visible after you selected a store view. Otherwise
there will appear a list of store views with the information where the product
should be visible.</p>
</div>
<div class="section" id="issues">
<h1><a class="toc-backref" href="#id3">3&nbsp;&nbsp;&nbsp;Issues</a></h1>
<p>There are many possibilities to improve this module. So for example we don't
explicitly handle</p>
<ul class="simple">
<li>bundle products</li>
<li>grouped products</li>
</ul>
<p>Also some magento features are not handled, that could have influences on
product visibility, for example:</p>
<ul class="simple">
<li>catalog events (enterprise feature)</li>
<li>catalog permissions (enterprise feature)</li>
<li>customer segments (enterprise feature)</li>
<li>some indexes</li>
<li>compiler</li>
</ul>
<p>In the past, we did not need these features to be handled by this module, that's
just why we did not already implement this. You could either implement it your
own (and send us your solution) or just be patient and hope we do betimes.</p>
</div>
<div class="section" id="extensibility">
<h1><a class="toc-backref" href="#id4">4&nbsp;&nbsp;&nbsp;Extensibility</a></h1>
<p>There are many modules available for Magento and some of them are able to hide
products. We can't know them all and that's why this module is extensible.
If you want to add a new checkpoint, just catch the event like this:</p>
<pre class="literal-block">
&lt;config&gt;
    &lt;adminhtml&gt;
        &lt;events&gt;
            &lt;netresearch_product_visibility_checkpoints_load&gt;
                &lt;observers&gt;
                    &lt;my_module&gt;
                        &lt;type&gt;singleton&lt;/type&gt;
                        &lt;class&gt;my_module/observer&lt;/class&gt;
                        &lt;method&gt;addCheckpoint&lt;/method&gt;
                    &lt;/my_module&gt;
                &lt;/observers&gt;
            &lt;/netresearch_product_visibility_checkpoints_load&gt;
        &lt;/events&gt;
    &lt;/adminhtml&gt;
&lt;/config&gt;
</pre>
<p>Now you can add a new checkpoint in the observer:</p>
<pre class="literal-block">
/**
 * add checkpoint for My_Module
 *
 * &#64;param Varien_Event_Observer $observer Observer
 *
 * &#64;return void
 */
public function addCheckpoint(Varien_Event_Observer $observer)
{
    /**
     * &#64;var Netresearch_Productvisibility_Block_Adminhtml_Catalog_Product_Edit_Tab_Visibility
     */
    $block = $observer-&gt;getEvent()-&gt;getVisibilityBlock();
    $block-&gt;addCheckpoint(
        Mage::helper('productvisibility')-&gt;createCheckpoint(
            /* name of the checkpoint */
            'My Module allows product to be shown',

            /* if product is visible */
            Mage::helper('my_module')-&gt;isProductVisible($block-&gt;getProduct()),

            /* how to change visibility */
            Mage::helper('productvisibility')
                -&gt;__('...'),

            /* optional: details of visibility */
            Mage::helper('productvisibility')
                -&gt;__('...'),

            /* optional: dependencies */
            array('is in stock')
        )
    );
</pre>
<p>The third parameter of the method <tt class="docutils literal"><span class="pre">createCheckpoint()</span></tt> defines, if the product
is visible according to this checkpoint. The following return values are
supported:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">true</span></tt> means that the product is visible</li>
<li><tt class="docutils literal"><span class="pre">false</span></tt> means that the product is not visible</li>
<li><tt class="docutils literal"><span class="pre">null</span></tt> (which creates a warning message)</li>
</ul>
<p>Modules can also rewrite existing checkpoints. To do so, you must only use the
name of the existing checkpoint.</p>
</div>
<div class="section" id="system-requirements">
<h1><a class="toc-backref" href="#id5">5&nbsp;&nbsp;&nbsp;System Requirements</a></h1>
<p>Netresearch_Productvisibility has been developed in Magento Enterprise, starting
with version 1.7, but it should work for Community versions, too.</p>
</div>
<div class="section" id="contributor">
<h1><a class="toc-backref" href="#id6">6&nbsp;&nbsp;&nbsp;Contributor</a></h1>
<p>Netresearch_Productvisibility has been developed by <a class="reference external" href="mailto:thomas.kappel&#64;netresearch.de">Thomas Kappel</a> at
<a class="reference external" href="http://www.netresearch.de">Netresearch</a>.</p>
<p>Netresearch has been Magento Enterprise Partner for several years. Now we focus
on Magento marketing and event initiatives in Europe as well as providing
Magento professional services and enabling solution and industry partners.</p>
</div>
</div>
</body>
</html>
